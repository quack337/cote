[N,C,R]=(require('fs').readFileSync(0)+'').split(/\s+/).map(e=>+e);
K=0;W=2**N;R=W-R;--C;
A=Array(W).fill().map(_=>Array(W));
P=[[[0,0],[0,1],[1,0]],[[0,0],[0,1],[1,1]],[[0,0],[1,0],[1,1]],[[0,1],[1,0],[1,1]]];
Q=[[[0,0,0],[0,2,1],[2,0,2],[1,1,0]],[[0,0,0],[0,2,1],[1,1,1],[2,2,3]],
[[0,0,0],[2,0,2],[1,1,2],[2,2,3]],[[0,2,1],[2,0,2],[1,1,3],[2,2,3]]];
Z=[[3,2],[1,0]];
F1=(n,r,c,p)=>{
 if(n==1){++K;for(let i=0,t=P[p];i<3;++i)A[r+t[i][0]][c+t[i][1]]=K}
 else for(let i=0,t=Q[p],m=2**(n-2);i<4;++i)F1(n-1,r+t[i][0]*m,c+t[i][1]*m,t[i][2])}
F2=(n,r,c,xr,xc)=>{
 let w=2**(n-1),p=Z[(xr-r)/w|0][(xc-c)/w|0];
 F1(n,r,c,p);
 if(n>1)F2(n-1,p<2?r+w:r,p%2?c:c+w,xr,xc)}
A[R][C]=-1;F2(N,0,0,R,C);
console.log(A.map(a=>a.join(' ')).join('\n'))