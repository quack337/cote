// 메모리 초과
A=(require('fs').readFileSync(0)+'').split('\n');
N=+A.shift().trim();
D=[[
'###',
'#.#',
'#.#',
'#.#',
'###'],
[
'..#',
'..#',
'..#',
'..#',
'..#'],
[
'###',
'..#',
'###',
'#..',
'###'],
[
'###',
'..#',
'###',
'..#',
'###'],
[
'#.#',
'#.#',
'###',
'..#',
'..#'],
[
'###',
'#..',
'###',
'..#',
'###'],
[
'###',
'#..',
'###',
'#.#',
'###'],
[
'###',
'..#',
'..#',
'..#',
'..#'],
[
'###',
'#.#',
'###',
'#.#',
'###'],
[
'###',
'#.#',
'###',
'..#',
'###']];
ok=(n,d)=>{
 for(let r=0;r<5;++r)
  for(let c=0;c<3;++c)
   if(D[d][r][c]=='.' && A[r][c+n*4]=='#') return false;
 return true;
}
BT=(n,x)=>{
 if(n==N){X.push(x);return;}
 for(let d=0;d<=9; ++d)
  if(ok(n,d)) BT(n+1,x*10+d);
}
X=[];
BT(0,0);
N=X.length;
console.log(!N?-1:X.reduce((a,b)=>a+b)/N)
console.log(X)