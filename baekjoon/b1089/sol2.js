//시간초과
A=(require('fs').readFileSync(0)+'').split('\n');
N=+A.shift().trim();
D=[[
'###',
'#.#',
'#.#',
'#.#',
'###'],
[
'..#',
'..#',
'..#',
'..#',
'..#'],
[
'###',
'..#',
'###',
'#..',
'###'],
[
'###',
'..#',
'###',
'..#',
'###'],
[
'#.#',
'#.#',
'###',
'..#',
'..#'],
[
'###',
'#..',
'###',
'..#',
'###'],
[
'###',
'#..',
'###',
'#.#',
'###'],
[
'###',
'..#',
'..#',
'..#',
'..#'],
[
'###',
'#.#',
'###',
'#.#',
'###'],
[
'###',
'#.#',
'###',
'..#',
'###']];
ok=(n,d)=>{
 for(let r=0;r<5;++r)
  for(let c=0;c<3;++c)
   if(D[d][r][c]=='.' && A[r][c+n*4]=='#') return false;
 return true;
}
BT=(n,x)=>{
 if(n==N){X+=x;++Y;return;}
 for(let d=0;d<=9; ++d)
  if(ok(n,d)) BT(n+1,x*10+d);
}
X=0;Y=0;
BT(0,0);
console.log(!Y?-1:X/Y)

/*
로직..
10 자리 3,4
1 자리 5,6,8 이면
35+36+38+45+46+48=
30+30+30+40+40+40+5+6+8+5+6+8=
전부 백트레킹할 필요 없겠군.
*/